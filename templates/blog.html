<!DOCTYPE html>
<html lang="en">

<th:block th:replace="~{modules/import}"/>

<body>
<div class="menu-page">
    <!-- ======= Header ======= -->
    <th:block th:replace="~{modules/header::goPage(${singlePage.spec.slug})}"/>
    <!-- End Header -->
</div>
<!-- ======= Hero Section ======= -->
<div id="other_hero">
    <section id="hero" class="d-flex justify-cntent-center align-items-center">
        <div id="heroCarousel" class="container carousel carousel-fade" data-bs-ride="carousel" data-bs-interval="5000">

            <!-- Slide 1 -->
            <div th:each="cs,csStat:${theme.config.blog.carousel}"
                 th:class="${csStat.index} == 0 ? 'carousel-item active' : 'carousel-item'">
                <div class="carousel-container">
                    <h2 class="animate__animated animate__fadeInDown" th:text="${cs.title}"></h2>
                    <p class="animate__animated animate__fadeInUp" th:text="${cs.desc}"></p>
                    <a th:href="${cs.url}" class="btn-get-started animate__animated animate__fadeInUp">查看更多</a>
                </div>
            </div>

            <a class="carousel-control-prev" href="#heroCarousel" role="button" data-bs-slide="prev">
                <span class="carousel-control-prev-icon bx bx-chevron-left" aria-hidden="true"></span>
            </a>

            <a class="carousel-control-next" href="#heroCarousel" role="button" data-bs-slide="next">
                <span class="carousel-control-next-icon bx bx-chevron-right" aria-hidden="true"></span>
            </a>

        </div>
        <div id="hero-bg"
             th:style="'background: url('+${theme.config.blog.carousel_bg_img}+') center top no-repeat;'"/>
    </section>
</div>
<!-- End Hero -->

<main id="main">

    <!-- ======= Blog Section ======= -->
    <section id="blog" class="blog" th:with="_idx = (${#strings.isEmpty(param._idx)} ? 1 : ${param._idx})">
        <div class="container" data-aos="fade-up">
            <div class="row" th:with="posts = ${postFinder.list(_idx,theme.config.blog.page_num)}">
                <div class="col-lg-8 entries">
                    <article class="entry" th:each="post : ${posts.items}">
                        <div class="entry-img">
                            <img alt="" th:src="@{${post.spec.cover}}" class="img-fluid">
                        </div>
                        <h2 class="entry-title">
                            <a th:href="@{${post.status.permalink}}" th:text="${post.spec.title}"></a>
                        </h2>

                        <div class="entry-meta">
                            <ul>
                                <li class="d-flex align-items-center">
                                    <i class="bi bi-person"></i>
                                    <a th:href="@{${post.status.permalink}}" th:text="${post.spec.owner}"></a>
                                </li>
                                <li class="d-flex align-items-center">
                                    <i class="bi bi-clock"></i>
                                    <a th:href="@{${post.status.permalink}}">
                                        <time datetime="2020-01-01" th:text="${#dates.format(post.spec.publishTime,'yyyy-MM-dd')}"></time>
                                    </a>
                                </li>
                                <li class="d-flex align-items-center">
                                    <!-- <i class="bi bi-chat-dots"></i>
                    <a th:href="@{${post.status.permalink}}" th:text="${post.stats.comment} + ' 回复'"></a> -->
                                    <i class="bi bi-person-plus"></i>
                                    <a th:href="@{${post.status.permalink}}" th:text="${post.stats.visit}"></a>
                                </li>
                            </ul>
                        </div>

                        <div class="entry-content">
                            <p th:text="${post.status.excerpt}">

                            </p>
                            <div class="read-more">
                                <a th:href="@{${post.status.permalink}}">查看更多</a>
                            </div>
                        </div>

                    </article><!-- End blog entry -->

                    <div class="blog-pagination" th:if="${posts.total} != 0" th:with="p=${#numbers.formatDecimal(posts.total/posts.size,0,0)}">
                        <ul class="justify-content-center" th:with="pt=${posts.total}%${posts.size} ==0 ? ${p} : ${p}+1">
                            <li th:each="i:${#numbers.sequence(1, pt)}" th:class="${i+'' == _idx+''} ? 'active' : ''">
                                <a th:if="${i} == 1" th:href="@{'/'+${singlePage.spec.slug}}" th:text="${i}"></a>
                                <a th:unless="${i} == 1" th:href="@{'/'+${singlePage.spec.slug}+'?_idx='+${i}}" th:text="${i}"></a>
                            </li>
                        </ul>
                    </div>

                </div><!-- End blog entries list -->

                <th:block th:replace="~{modules/blog_right::selectTgOrCg ('','')}"/>

            </div>

        </div>
    </section><!-- End Blog Section -->

</main><!-- End #main -->

<!-- ======= Footer ======= -->
<th:block th:replace="~{modules/footer}"/>
<!-- End Footer -->
</body>

</html>